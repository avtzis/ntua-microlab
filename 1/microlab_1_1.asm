.include "m328PBdef.inc"
   main:
    ldi r24,low(10000) ;?????????? ??? 10000 ms
    ldi r25,high(10000)
    
    rcall wait_x_msec
    rjmp main
    
  wait4:
    Ret ;4 ??????
    
wait994usec:  ;1+97*(7+1+2)+7+1+1+7+4+3(?????)=994usec
    ldi r26,98   ;1 ??????
 loop:
    rcall wait4 ;3+4=7 ??????
    dec r26 ;1 ??????
    brne loop ;2 ? 1 ??????      
    rcall wait4 ;3+4=7 ??????
    ret ;4 ??????
wait990usec: ;1+97*(7+1+2)+7+1+1+3*1+4+3(?????)=990usec
    ldi r20,98  ;1 ??????
loop1:
    rcall wait4 ;3+4=7 ??????
    dec r20  ;1 ??????
    brne loop1 ;2 ? 1 ??????      
    nop ;1 ??????
    nop
    nop
    ret ;4 ??????
continue:
     rcall wait994usec 
     rjmp wait_x_msec   ;2 ??????
    
wait_x_msec:
    sbiw r24,1      ;2 ??????
    brne continue   ;2 ? 1 ??????
    rcall wait990usec
    ret ;4 ??????